#!/usr/bin/env ruby

require 'rubygems'
require 'pry'
require 'bundler'
Bundler.setup
Bundler.require
require 'smservice'
require_relative '../examples/dummy'

class SMService::Test
  include SMService

  def initialize
    super name: 'test_ruby', actions: 'test'
  end

  def action_test(headers, message)
    LOGGER.info "#{self.class} - Processing action 'test'. Headers: #{headers.inspect}, message: #{message.inspect}"
  end
end

dummy = SMService::Dummy.new
dummy.start!

test = SMService::Test.new
test.start!

# dummy.execute(action: 'test', message: {my_request: 'ping', my_data: 'add whatever data needed'})
binding.pry
